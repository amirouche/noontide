<html lang="en" class="notion-html">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<title>Versioned generic tuple store 2</title>
<meta property="og:locale" content="en_US">
<link rel="shortcut icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFGklEQVRYR+1Xa2xTVRz/n3N77227dR3tHh1hMMRsgIOIEDdeASeY+Ahm4hCNMSMIgRggoAtEJDKCEYdgiMFBMmOAQWJAxMcHM41TECE8tgF7ZmPriqS0Y4/20td9nGPuLW03YVsn/abnS+/9v87v/B+/c4vg/jq3fsG49EvcKVbCRRFZvL+EEleI9y/Pv3LxfLw+ETsUeWietqCYZ/Wn1XfGaATDzDyCJtog2NwBUmM7HhxY1euXFlLk6qf3LtZrOikZzkz985fiRwagBrcceJ+Yni7QAsuyDN6qY8pA5QkmEjzjg3WQXLJc07lWbaGh6y0oYQDMpSuJdfNq7K27RklrOzWtfAXLPh+4StZR2elGXN4UmnXkM0RYDlgdA66NO8H3+/nEZcCyu4yYXlyCe9dvI0JdI8muOa4jBgO4StYSxeHEGRU7gF/wJPW3tIB5TgFKOABuSg7BU7OpVHuV0S8rImlbN2Cxu4u639iCmPwcaqvch/w/n6WSyw3W0pWJBxCps2HmEyS98kMMehN4duymnp8u0qxjnyBuSi7qe6+ccosLwFxSjHrK94JwuiZxJVABcOmpYDn6OeVtGchT/a0ysO8Qk/TMUyRt/8daYyoeDzB6PTAGA4g+P/RvLycDl+u+T8gUoJRkmlm1Bxnz8kD49Q/qqThEQVYwTk8Dy/YNFGOdNrp0QirwKRYIdjto37a9SHC0JmYMM3dugqTil7RKhAQBkCxrz/3le4ivti7KBylla0jamytwwptQv+xZklw4+wE+8R75BoltN6PEZVy6kI5b8QL0fFoFqvzReWD+/ELOy9cghE1jZTMtW3qlYvql2q1j9Y2eCADQ9UWLCn/zoV235dCSpdhYMUFRukYKeBxCH6n61yi72ZsnnZx38kLgUQBovvmzCw8okrgRYzKrqaGhYaSA02bM6lD1LTfqHx/rxoMvI/T2ll0bGEzeUoXBkC9LFAPjTcnWVoSQb6TAgYBHaxaDwXw1Ymdva1Qc9ptkNEA8y1Q31F35ApWWHbRx4LIDIH40p3j0jvZWetthH9UUYRS0GZU89Ne16gl2OufWqB5xGniFe9QjeOOzFl2TNAB32Hm3fDKAT471pIWVQceEb2B3MCZP0lFI0oXjD5bzSAYzz0DXnX7q7LsXBZBlwiAqGHr9YT5Rl9WoA44hMNfWPTEKoKmXwI8ua9Ro1WMDkKGn2iZfdaZG5YszfVBgFbX3/a1mkEiYm3JNQSjODsCZG71Q2xXUZAyidP0MGXr8DHzdgaOneG4yS6enSv8DGJoBtQfsntj05JixVmtZUaBtINYDWWY9WHThEti9FHwS1Z6TWAQ5KQhanALtvBvjIzXVag90CNEvOsg2iGDi0VAA8bXt6FYDXoH2e+KbAq0Jm98pmmRqzRh+cHk21r6R/UPS/Tl4EFC9oxtccQI4OdUYBsCfww8AsK5+neKs8cC9XIQwjqVP3TJw4Qpl3ALqr/wSxJ67Q1B03HaC0yuMnioAODE3c3gA6a8+D0y6Fei8OeEiD1qkvROYnj7UU/0dUQRhyH+GMQNoOrxponKe6/ZLPDiTCNXRcIMFXDIKsJ4RT2LR2SikSOEmpDxKk0VovuuGS71hHhhuZTMKmAgPZ2emxZiwTWDhzK3kqM8dux2IHGO0hwXLnJwLDMNpqocR0XAA4iKi/xqAuZ1NvZQdfBf82wz88zJ6WBmGXEaH165lF75bdvCyG61JBIB4iUgWA0e9P5xa8zd7/xwPHk8cWgAAAABJRU5ErkJggg==">
<link rel="apple-touch-icon" href="/images/logo-ios.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no">
<meta name="msapplication-tap-highlight" content="no">
<link href="/print.b31f28aa.css" rel="stylesheet" media="print">
<link href="/app-5be0283fc2b8a6b971ed.css" rel="stylesheet">
</head>
<body class="notion-body">
<style>body{background:#fff}body.dark{background:#2f3437}.initial-loading-spinner{-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;-webkit-transform-origin:center center;transform-origin:center center;width:1em;height:1em;opacity:.5;display:block;pointer-events:none}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}@keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}</style>
<style id="scroll-properties"></style>
<div id="notion-app"><div class="notion-app-inner notion-light-theme" style='color: rgb(55, 53, 47); fill: currentcolor; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; -webkit-font-smoothing: auto;'>
<div class="notion-cursor-listener" style="width: 100vw; height: 100%; position: relative; display: flex; flex: 1 1 0%; background: white; cursor: text;"><div class="notion-frame" style="flex-grow: 1; flex-shrink: 1; display: flex; flex-direction: column; background: white; z-index: 1; height: 100vh; max-height: 100%; width: 1920px;">
<div style="width: 100%; max-width: 100vw; z-index: 9;">
<div class="notion-topbar" style="width: 100%; max-width: 100vw; height: 45px; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s; position: relative;"><div style="display: flex; justify-content: space-between; align-items: center; position: absolute; overflow: hidden; height: 45px; left: 0px; right: 0px; bottom: 0px; padding-left: 12px; padding-right: 10px;">
<div class="notranslate" style="display: flex; align-items: center; line-height: 1.2; font-size: 14px; height: 100%; flex-grow: 0; margin-right: 8px; min-width: 0px;">
<div data-block-id="016dae93-3f53-47b4-8cbe-426ba52f362b" class="notion-selectable notion-page-block" style="display: flex; align-items: center; min-width: 0px;"><a href="/hyper-dev-016dae933f5347b48cbe426ba52f362b.html" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);"><div style="display: flex; align-items: center; min-width: 0px;">
<div class="notion-record-icon notranslate" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 3px; flex-shrink: 0; margin-right: 6px;"><div style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px;"><div style="height: 14px; width: 14px; font-size: 14px; line-height: 1.1; margin-left: 0px; color: black;"><img class="notion-emoji" alt="&#128104;&#127998;&#8205;&#128187;" aria-label="&#128104;&#127998;&#8205;&#128187;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" style='width: 100%; height: 100%; background: url("/images/twitter-emoji-spritesheet-64.png") 26.7857% 75% / 5700% 5700%;'></div></div></div>
<div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;">hyper.dev</div>
</div></div></a></div>
<span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.4);">/</span><div data-block-id="1c817654-2f98-4540-aff6-2fe2c21b1171" class="notion-selectable notion-collection_view_page-block" style="display: flex; align-items: center; min-width: 0px;"><a href="/9827036a7569e122e654cb14ad10e2f1.html" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);"><div style="display: flex; align-items: center; min-width: 0px;">
<div class="notion-record-icon notranslate" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 3px; flex-shrink: 0; margin-right: 6px;"><div style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px;"><div style="height: 14px; width: 14px; font-size: 14px; line-height: 1.1; margin-left: 0px; color: black;"><img class="notion-emoji" alt="&#128580;" aria-label="&#128580;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" style='width: 100%; height: 100%; background: url("/images/twitter-emoji-spritesheet-64.png") 55.3571% 82.1429% / 5700% 5700%;'></div></div></div>
<div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;">Logs</div>
</div></div></a></div>
<span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.4);">/</span><div class="" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);">
<div class="notion-record-icon notranslate" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 3px; flex-shrink: 0; margin-right: 6px;"><div style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px;"><div style="height: 14px; width: 14px; font-size: 14px; line-height: 1.1; margin-left: 0px; color: black;"><img class="notion-emoji" alt="&#127978;" aria-label="&#127978;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" style='width: 100%; height: 100%; background: url("/images/twitter-emoji-spritesheet-64.png") 19.6429% 7.14286% / 5700% 5700%;'></div></div></div>
<div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 240px;">Versioned generic tuple store 2</div>
</div>
</div>
<div style="flex-grow: 1; flex-shrink: 1;"></div>
<div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);">
<svg viewbox="0 0 17 17" class="searchNew" style="width: 14px; height: 14px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;"><path d="M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"></path></svg>Search</div>
<div style="flex: 0 0 auto; width: 1px; height: 16px; margin-left: 8px; margin-right: 8px; background: rgba(55, 53, 47, 0.16);"></div>
<div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);">
<svg viewbox="0 0 120 126" class="notionLogo" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;"><path d="M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"></path></svg>Notion</div>
</div></div>
<div style="width: 100%; user-select: none;"></div>
</div>
<div class="notion-scroller vertical horizontal" style="display: flex; flex-direction: column; z-index: 1; flex-grow: 1; position: relative; align-items: center; overflow: auto; margin-right: 0px; margin-bottom: 0px;">
<div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 900px;">
<div class="notion-record-icon notranslate" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 78px; width: 78px; border-radius: 3px; flex-shrink: 0; position: relative; z-index: 1; margin-left: 3px; margin-bottom: 0px; align-self: flex-start; margin-top: 96px;"><div style="display: flex; align-items: center; justify-content: center; height: 78px; width: 78px;"><div style="height: 78px; width: 78px; font-size: 78px; line-height: 1.1; margin-left: 0px; color: black;"><div style="position: relative; width: 78px; height: 78px;">
<img class="notion-emoji" alt="&#127978;" aria-label="&#127978;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" style='width: 78px; height: 78px; background: url("/images/twitter-emoji-spritesheet-64.png") 19.6429% 7.14286% / 5700% 5700%; opacity: 1; transition: opacity 100ms ease-out 0s;'><img alt="&#127978;" aria-label="&#127978;" src="https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f3ea.svg" style="position: absolute; top: 0px; left: 0px; opacity: 0; width: 78px; height: 78px;">
</div></div></div></div>
<div class="notion-page-controls" style='display: flex; justify-content: flex-start; flex-wrap: wrap; margin-top: 8px; margin-bottom: 4px; margin-left: -1px; color: rgba(55, 53, 47, 0.4); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; height: 24px;'></div>
<div data-block-id="52a592c2-d0f6-4af2-af8d-aca62f32b55f" class="notion-selectable notion-page-block" style='color: rgb(55, 53, 47); font-weight: 700; line-height: 1.2; font-size: 40px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; cursor: text; display: flex; align-items: center;'><div contenteditable="false" spellcheck="true" placeholder="Untitled" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Versioned generic tuple store 2</div></div>
</div></div>
<div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 900px;">
<div style="width: 100%; font-size: 14px;"><div style="width: 100%; max-width: 100%; padding-top: 8px; padding-bottom: 8px; margin: 0px auto;"><div style="margin: 0px;">
<div><div style="display: flex; padding-bottom: 4px;">
<div style="display: flex; align-items: center; height: 34px; width: 160px; flex: 0 0 auto; color: rgba(55, 53, 47, 0.6);"><div class="" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; height: 100%; width: 100%; border-radius: 3px; padding: 0px 6px;"><div style="display: flex; align-items: center; line-height: 120%; font-size: 14px; min-width: 0px;">
<div style="margin-right: 8px;"><svg viewbox="0 0 14 14" class="typesDate" style="width: 16px; height: 16px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;"><path d="M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"></path></svg></div>
<div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Last update</div>
</div></div></div>
<div style="display: flex; align-items: center; margin-left: 4px; height: 100%; flex: 1 1 auto; min-width: 0px;"><div class="" role="button" aria-disabled="false" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; border-radius: 3px; width: 100%; min-height: 34px; padding: 6px 8px 7px; font-size: 14px; overflow: hidden;"><div style="line-height: 1.5; word-break: break-word; white-space: pre-wrap; pointer-events: none;">Mar 15, 2021</div></div></div>
</div></div>
<div><div style="display: flex; padding-bottom: 4px;">
<div style="display: flex; align-items: center; height: 34px; width: 160px; flex: 0 0 auto; color: rgba(55, 53, 47, 0.6);"><div class="" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; height: 100%; width: 100%; border-radius: 3px; padding: 0px 6px;"><div style="display: flex; align-items: center; line-height: 120%; font-size: 14px; min-width: 0px;">
<div style="margin-right: 8px;"><svg viewbox="0 0 14 14" class="typesMultipleSelect" style="width: 16px; height: 16px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;"><path d="M4,3 C4,2.447715 4.447715,2 5,2 L12,2 C12.5523,2 13,2.447716 13,3 C13,3.55228 12.5523,4 12,4 L5,4 C4.447715,4 4,3.55228 4,3 Z M4,7 C4,6.447715 4.447715,6 5,6 L12,6 C12.5523,6 13,6.447716 13,7 C13,7.55228 12.5523,8 12,8 L5,8 C4.447715,8 4,7.55228 4,7 Z M4,11 C4,10.447715 4.447715,10 5,10 L12,10 C12.5523,10 13,10.447716 13,11 C13,11.55228 12.5523,12 12,12 L5,12 C4.447715,12 4,11.55228 4,11 Z M2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 C2.55228475,2 3,2.44771525 3,3 C3,3.55228475 2.55228475,4 2,4 Z M2,8 C1.44771525,8 1,7.55228475 1,7 C1,6.44771525 1.44771525,6 2,6 C2.55228475,6 3,6.44771525 3,7 C3,7.55228475 2.55228475,8 2,8 Z M2,12 C1.44771525,12 1,11.5522847 1,11 C1,10.4477153 1.44771525,10 2,10 C2.55228475,10 3,10.4477153 3,11 C3,11.5522847 2.55228475,12 2,12 Z"></path></svg></div>
<div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Tags</div>
</div></div></div>
<div style="display: flex; align-items: center; margin-left: 4px; height: 100%; flex: 1 1 auto; min-width: 0px;"><div class="" role="button" aria-disabled="false" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; border-radius: 3px; width: 100%; min-height: 34px; padding: 0px 8px; font-size: 14px; overflow: hidden;"><div style="display: flex; flex-wrap: wrap; padding-top: 8px; padding-bottom: 2px;">
<div style="display: flex; align-items: center; flex-shrink: 1; min-width: 0px; height: 18px; border-radius: 3px; padding-left: 6px; padding-right: 6px; font-size: 14px; line-height: 120%; color: rgb(55, 53, 47); background: rgba(221, 0, 129, 0.2); margin: 0px 6px 6px 0px;"><div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">review</div></div>
<div style="display: flex; align-items: center; flex-shrink: 1; min-width: 0px; height: 18px; border-radius: 3px; padding-left: 6px; padding-right: 6px; font-size: 14px; line-height: 120%; color: rgb(55, 53, 47); background: rgba(255, 0, 26, 0.2); margin: 0px 6px 6px 0px;"><div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">rework</div></div>
</div></div></div>
</div></div>
<div><div style="display: flex; padding-bottom: 4px;">
<div style="display: flex; align-items: center; height: 34px; width: 160px; flex: 0 0 auto; color: rgba(55, 53, 47, 0.6);"><div class="" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; height: 100%; width: 100%; border-radius: 3px; padding: 0px 6px;"><div style="display: flex; align-items: center; line-height: 120%; font-size: 14px; min-width: 0px;">
<div style="margin-right: 8px;"><svg viewbox="0 0 14 14" class="typesNumber" style="width: 16px; height: 16px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;"><path d="M4.46191,0 C3.8667,0 3.38428,0.482422 3.38428,1.07751 L3.38428,3.38425 L1.07764,3.38425 C0.482422,3.38425 0,3.86667 0,4.46179 C0,5.05688 0.482422,5.53931 1.07764,5.53931 L3.38428,5.53931 L3.38428,8.46063 L1.07764,8.46063 C0.482422,8.46063 0,8.94308 0,9.53818 C0,10.1333 0.482422,10.6157 1.07764,10.6157 L3.38428,10.6157 L3.38428,12.9224 C3.38428,13.5175 3.8667,13.9999 4.46191,13.9999 C5.05664,13.9999 5.53906,13.5175 5.53906,12.9224 L5.53906,10.6157 L8.46045,10.6157 L8.46045,12.9224 C8.46045,13.5175 8.94287,13.9999 9.53809,13.9999 C10.1333,13.9999 10.6157,13.5175 10.6157,12.9224 L10.6157,10.6157 L12.9224,10.6157 C13.5176,10.6157 14,10.1333 14,9.53818 C14,8.94308 13.5176,8.46063 12.9224,8.46063 L10.6157,8.46063 L10.6157,5.53931 L12.9224,5.53931 C13.5176,5.53931 14,5.05688 14,4.46179 C14,3.86667 13.5176,3.38425 12.9224,3.38425 L10.6157,3.38425 L10.6157,1.07751 C10.6157,0.482422 10.1333,0 9.53809,0 C8.94287,0 8.46045,0.482422 8.46045,1.07751 L8.46045,3.38425 L5.53906,3.38425 L5.53906,1.07751 C5.53906,0.482422 5.05664,0 4.46191,0 Z M5.53906,8.46063 L5.53906,5.53931 L8.46045,5.53931 L8.46045,8.46063 L5.53906,8.46063 Z"></path></svg></div>
<div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Time spent (hours)</div>
</div></div></div>
<div style="display: flex; align-items: center; margin-left: 4px; height: 100%; flex: 1 1 auto; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; border-radius: 3px; width: 100%; min-height: 34px; padding: 6px 8px 7px; font-size: 14px; overflow: hidden; color: rgba(55, 53, 47, 0.4);">Empty</div></div>
</div></div>
</div></div></div>
<div style="width: 100%; height: 1px; background: rgba(55, 53, 47, 0.09); margin-bottom: 8px;"></div>
<div class="notion-page-details-controls" style='display: flex; align-items: baseline; justify-content: flex-start; flex-wrap: wrap; color: rgba(55, 53, 47, 0.4); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; padding-bottom: 20px;'></div>
</div></div>
<div class="notion-page-content" style="flex-shrink: 0; flex-grow: 1; width: 900px; max-width: 100%; display: flex; align-items: center; flex-direction: column; font-size: 16px; line-height: 1.5; color: rgb(55, 53, 47); padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); padding-bottom: 30vh;">
<div data-block-id="26a4c37e-917a-44d4-b8a7-a88f1c6dc9d0" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 2px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">A few years back, I set myself the task to create a versioned database. I did not come up with that idea myself! Several readings and professional experiences, lead me to think that was a good idea:</div></div></div></div>
<div data-block-id="9c2b6bf5-0400-455d-97ab-db0ce64e4bf0" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://code.djangoproject.com/wiki/AuditTrail" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;"><div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">AuditTrail - Django</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">As raised in &#8203;a recent discussion on django-developers, this code is one solution for creating an audit trail for a given model. This is working in multiple production sites, but is still incomplete. See Caveats below for more information. The code below requires an SVN checkout as of r8223 or later.</div>
<div style="display: flex; margin-top: 6px;">
<img src="/favicon.ico" style="width: 16px; height: 16px; min-width: 16px; margin-right: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://code.djangoproject.com/wiki/AuditTrail</div>
</div>
</div></div></a></div></div></div>
<div data-block-id="3a244d2a-099c-4f62-9da8-34c38d291e88" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://www.wikidata.org/wiki/Wikidata:Main_Page" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;">
<div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">Wikidata</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">Wikidata is a free and open knowledge base that can be read and edited by both humans and machines. Wikidata acts as central storage for the structured data of its Wikimedia sister projects including Wikipedia, Wikivoyage, Wiktionary, Wikisource, and others. Wikidata also provides support to many other sites and services beyond just Wikimedia projects!</div>
<div style="display: flex; margin-top: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://www.wikidata.org/wiki/Wikidata:Main_Page</div></div>
</div>
<div style="flex: 1 1 180px; display: block; position: relative;"><div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;"><div style="width: 100%; height: 100%;"><img src="/187px-The_Earth_seen_from_Apollo_17.jpg" style="display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;"></div></div></div>
</div></a></div></div></div>
<div data-block-id="0fc6e89b-7718-4084-b653-090917953916" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://core.ac.uk/display/76527782?recSetID=" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;">
<div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">Collaborative Open Data versioning: a pragmatic approach using Linked Data - CORE</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">By Lorenzo Canova, Simone Basso, Raimondo Iemma and Federico Morando Most Open Government Data initiatives are centralised and unidirectional (i.e., they release data dumps in CSV or PDF format). Hence for non trivial applications reusers make copies of the government datasets to curate their local data copy.</div>
<div style="display: flex; margin-top: 6px;">
<img src="/favicon.ico" style="width: 16px; height: 16px; min-width: 16px; margin-right: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://core.ac.uk/display/76527782?recSetID=</div>
</div>
</div>
<div style="flex: 1 1 180px; display: block; position: relative;"><div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;"><div style="width: 100%; height: 100%;"><img src="/ou.png" style="display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;"></div></div></div>
</div></a></div></div></div>
<div data-block-id="d8413ae3-406d-48a5-9927-60948d23f9ac" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">And most recently:</div></div></div></div>
<div data-block-id="aded8c37-7911-413b-b2b0-b035deafb2bc" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://ccorcos.github.io/filing-cabinets/" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;">
<div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">A More Human Approach To Databases</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">End-user databases are all the buzz these days - Notion, Airtable, Coda, Roam, etc. These products have made it possible for people to model information in a way that feels more natural and intuitive to the way we experience it in our daily lives.</div>
<div style="display: flex; margin-top: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://ccorcos.github.io/filing-cabinets/</div></div>
</div>
<div style="flex: 1 1 180px; display: block; position: relative;"><div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;"><div style="width: 100%; height: 100%;"><img src="/Filing_cabinets_9.png" style="display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;"></div></div></div>
</div></a></div></div></div>
<div data-block-id="dd34ec34-c7da-40f0-bec5-dc2d8b57dac1" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/66610103/design-of-system-for-pending-approval-and-history" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;">
<div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">Design of system for pending approval and history</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">I am looking for some insight on how to design a solution that handles both pending changes as well as a history of an entire entity. I have found several examples of how to handle this for a single entity object, but I am unsure how to apply this to a object that can contain several "attached" entities.</div>
<div style="display: flex; margin-top: 6px;">
<img src="/favicon.ico?v=ec617d715196" style="width: 16px; height: 16px; min-width: 16px; margin-right: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://stackoverflow.com/questions/66610103/design-of-system-for-pending-approval-and-history</div>
</div>
</div>
<div style="flex: 1 1 180px; display: block; position: relative;"><div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;"><div style="width: 100%; height: 100%;"><img src="/apple-touch-icon@2.png?v=73d79a89bded" style="display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;"></div></div></div>
</div></a></div></div></div>
<div data-block-id="bc5599b0-40d2-40dc-aca1-68e5f7a5963d" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">I do not claim my approach is bullet proof to every use-case possible. As its name imply it is a generic solution to implement versioned database. What the title does not say, is that it support change request mechanic similar to github pull-requests.</div></div></div></div>
<div data-block-id="b5436cf7-b873-4bae-a7e8-8f4acc4298a4" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">When I started this adventure, the index factor was 120 times the size of the raw data. Given this factor whether the data is text or bytes does not matter: one gigabyte times 120 is 120 gigabytes. </div></div></div></div>
<div data-block-id="4118f801-466f-4db3-808c-72edd9ef6199" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">In 2019, I reduced the factor to 10, which is still a lot given at the time, wikidata was 3 terabytes without change history.</div></div></div></div>
<div data-block-id="cfb31931-2b49-4c23-99ca-85b5cc559fff" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">In 2020, thanks to FoundationDB <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">HighContentionAllocator</span>, I managed to store wikidata lexemes in the less space that the textual format. You read it very well. It requires as much space to store the textual data, than store it inside a database with versioning enabled, and querying possible in timely manner.</div></div></div></div>
<div data-block-id="39021dc1-e723-4d32-8554-e9e3d484aafe" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Today, I devised a plan to reduce further the space requirement with little or no visible feature difference. That further reduce the space requirement by almost a half.</div></div></div></div>
<div data-block-id="15a0ad32-0f88-44c9-add1-663122cedf57" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">To summarize: I started with 120 time the size of the data, and today the versioned and query-able data requires at most 0.6 times the size of the original data.</div></div></div></div>
<div data-block-id="dbaa1cea-d1c2-4ca5-bf04-b9b567488025" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">How?</div></div></div></div>
<div data-block-id="4d935f9d-418e-490e-aa38-355fcc044748" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Remember the <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">nstore</span>? It is a generalization of triple stores where the number of tuple items can be any integer. I used that to drop from 120 to 10. The <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">nstore</span> stored the whole tuple in the key of the okvs. (That may look like a problem because keys can not grow big, but in practice since they go through the <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="5" spellcheck="false">HighContentionAllocator</span> it is not a problem). The value was empty!</div></div></div></div>
<div data-block-id="e70ceab0-13f9-4951-b946-732387f536f7" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">What I used to think is that when I am required to expose an <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">n</span> versioned tuple store, I needed <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">n+2</span> generic tuple store:</div></div></div></div>
<div data-block-id="25565820-1f5e-474f-b6ba-4fb46d3172bb" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://github.com/amirouche/copernic/blob/131589d2294710da7e737115b0b4dcf38483044c/copernic/vnstore.py#L54-L60" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;"><div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">amirouche/copernic</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">Versioned structured data, with change-request mechanic, at scale. - amirouche/copernic</div>
<div style="display: flex; margin-top: 6px;">
<img src="/favicon.ico" style="width: 16px; height: 16px; min-width: 16px; margin-right: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://github.com/amirouche/copernic/blob/131589d2294710da7e737115b0b4dcf38483044c/copernic/vnstore.py#L54-L60</div>
</div>
</div></div></a></div></div></div>
<div data-block-id="fbecad3d-bff1-49ab-8e52-ce4ac5d71235" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">That is not the case. I can drop the <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">alive?</span> flag from the tuple item and put it in the value part. That way it reduce the number of items in a tuple to <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">4</span> and according to <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="5" spellcheck="false">make_indices</span> that requires only 6 permutations to be able to query any pattern in one hop. </div></div></div></div>
<div data-block-id="69d94eb2-dd03-4216-806b-dc25f48c9a98" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">
<span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="0" spellcheck="false">alive?</span> is accessed twice in the current code base. Mind the fact that in both case <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="2" spellcheck="false">alive?</span> is a variable:</div></div></div></div>
<div data-block-id="22c373f1-91d1-45cc-8831-9cbb87b71786" class="notion-selectable notion-code-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;">
<div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div contenteditable="false" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-root="true" class="" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'>
<span class="token keyword" data-token-index="0">def</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">ask</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">self</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> tr</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span data-token-index="0">items</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
    </span><span class="token keyword" data-token-index="0">assert</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">len</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">items</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">==</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">len</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">self</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">_items</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token string" data-token-index="0">"Incorrect count of ITEMS"</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># Complexity is O(n), where n is the number of times the exact</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># same ITEMS was added and deleted.  In pratice, n=0, n=1 or</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># n=2, and of course it always possible that it is more...</span><span data-token-index="0">
    bindings </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> self</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">_tuples</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">FROM</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">tr</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span data-token-index="0">items</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> nstore</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">var</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'alive?'</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> nstore</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">var</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'changeid'</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
    found </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> </span><span class="token boolean" data-token-index="0">False</span><span data-token-index="0">
    significance_max </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> fdb</span><span class="token punctuation" data-token-index="0">.</span><span class="token builtin" data-token-index="0">tuple</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">Versionstamp</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">b'\x00'</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
    </span><span class="token keyword" data-token-index="0">for</span><span data-token-index="0"> binding </span><span class="token keyword" data-token-index="0">in</span><span data-token-index="0"> bindings</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
        changeid </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">[</span><span class="token string" data-token-index="0">'changeid'</span><span class="token punctuation" data-token-index="0">]</span><span data-token-index="0">
        significance </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> self</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">_changes</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">FROM</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">
           tr</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0">
           changeid</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token string" data-token-index="0">'significance'</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> nstore</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">var</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'significance'</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
        </span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
        significance </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">next</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">significance</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
        significance </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> significance</span><span class="token punctuation" data-token-index="0">[</span><span class="token string" data-token-index="0">'significance'</span><span class="token punctuation" data-token-index="0">]</span><span data-token-index="0">
        </span><span class="token keyword" data-token-index="0">if</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">significance </span><span class="token keyword" data-token-index="0">is</span><span data-token-index="0"> </span><span class="token keyword" data-token-index="0">not</span><span data-token-index="0"> </span><span class="token boolean" data-token-index="0">None</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token keyword" data-token-index="0">and</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">significance </span><span class="token operator" data-token-index="0">&gt;</span><span data-token-index="0"> significance_max</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
            found </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">[</span><span class="token string" data-token-index="0">'alive?'</span><span class="token punctuation" data-token-index="0">]</span><span data-token-index="0">            
    </span><span class="token keyword" data-token-index="0">return</span><span data-token-index="0"> found</span><span>
</span>
</div></div>
<div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div>
<div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;">Python<svg viewbox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg>
</div></div>
<div style="background: white; padding-right: 105px;"></div>
</div></div></div>
<div data-block-id="bb9b8d6d-4c90-4198-b71a-b5b39de2b4e7" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://github.com/amirouche/copernic/blob/131589d2294710da7e737115b0b4dcf38483044c/copernic/vnstore.py#L89-L107" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;"><div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">amirouche/copernic</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">Versioned structured data, with change-request mechanic, at scale. - amirouche/copernic</div>
<div style="display: flex; margin-top: 6px;">
<img src="/favicon.ico" style="width: 16px; height: 16px; min-width: 16px; margin-right: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://github.com/amirouche/copernic/blob/131589d2294710da7e737115b0b4dcf38483044c/copernic/vnstore.py#L89-L107</div>
</div>
</div></div></a></div></div></div>
<div data-block-id="ab2f93d4-7be9-47ab-a6d1-0361339aadfe" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">The code says something along the line of:</div></div></div></div>
<div data-block-id="2b42b4ae-6582-4766-bf14-5514102a8616" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>1.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Given a tuple <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">items</span>,</div></div></div>
</div></div>
<div data-block-id="d2ee3783-c84a-4f82-9af3-355a2ac5201b" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>2.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Lookup all the history of that <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">items</span> and retrieve their <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">changeid</span> and <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="5" spellcheck="false">alive?</span> status</div></div></div>
</div></div>
<div data-block-id="9ca086e1-a9eb-449f-887e-ee4b4b235020" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>3.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">For each of such history item, keep the status <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">alive?</span> of the tuple with the biggest <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">significance</span>
</div></div></div>
</div></div>
<div data-block-id="d4469d00-79c3-416d-8219-a57f0d5ad893" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">The returned value called in the above snippet <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">found</span> tells whether <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">items</span> is alive at the latest version of the database.</div></div></div></div>
<div data-block-id="a40c4d2a-9764-41d6-a218-f3501db831dd" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Another case is the <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">VNStore.FROM</span> does a more general query that try to bind some patterns against the latest version of the data:</div></div></div></div>
<div data-block-id="ad62f3fa-8ad3-451c-88ce-84aa29f55547" class="notion-selectable notion-code-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;">
<div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div contenteditable="false" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-root="true" class="" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'>
<span class="token keyword" data-token-index="0">def</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">FROM</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">self</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> tr</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span data-token-index="0">pattern</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> seed</span><span class="token operator" data-token-index="0">=</span><span data-token-index="0">Map</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">  </span><span class="token comment" data-token-index="0"># seed is immutable</span><span data-token-index="0">
    </span><span class="token triple-quoted-string string" data-token-index="0">"""Yields bindings that match PATTERN"""</span><span data-token-index="0">
    </span><span class="token keyword" data-token-index="0">assert</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">len</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">pattern</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">==</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">len</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">self</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">_items</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token string" data-token-index="0">"invalid item count"</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># TODO: validate that pattern does not have variables named</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># `alive?` or `changeid`.</span><span data-token-index="0">

    </span><span class="token keyword" data-token-index="0">def</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">bind</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">pattern</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
        </span><span class="token keyword" data-token-index="0">for</span><span data-token-index="0"> item </span><span class="token keyword" data-token-index="0">in</span><span data-token-index="0"> pattern</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
            </span><span class="token keyword" data-token-index="0">if</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">isinstance</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">item</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> Variable</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
                </span><span class="token keyword" data-token-index="0">yield</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">[</span><span data-token-index="0">item</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">name</span><span class="token punctuation" data-token-index="0">]</span><span data-token-index="0">
            </span><span class="token keyword" data-token-index="0">else</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
                </span><span class="token keyword" data-token-index="0">yield</span><span data-token-index="0"> item

    </span><span class="token comment" data-token-index="0"># The complexity really depends on the pattern.  A pattern</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># only made of variables will scan the whole database.  In</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># practice, the user will seldom do time traveling queries, so</span><span data-token-index="0">
    </span><span class="token comment" data-token-index="0"># it should rarely hit this code path.</span><span data-token-index="0">
    pattern </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> </span><span class="token builtin" data-token-index="0">list</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">pattern</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">[</span><span data-token-index="0">nstore</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">var</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'alive?'</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> nstore</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">var</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'changeid'</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">]</span><span data-token-index="0">
    bindings </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> self</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">_tuples</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">FROM</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">tr</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span data-token-index="0">pattern</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> seed</span><span class="token operator" data-token-index="0">=</span><span data-token-index="0">seed</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
    </span><span class="token keyword" data-token-index="0">for</span><span data-token-index="0"> binding </span><span class="token keyword" data-token-index="0">in</span><span data-token-index="0"> bindings</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
        </span><span class="token keyword" data-token-index="0">if</span><span data-token-index="0"> </span><span class="token keyword" data-token-index="0">not</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">[</span><span class="token string" data-token-index="0">'alive?'</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
            </span><span class="token comment" data-token-index="0"># The associated tuple is dead, so the bindings are</span><span data-token-index="0">
            </span><span class="token comment" data-token-index="0"># not valid in all cases.</span><span data-token-index="0">
            </span><span class="token keyword" data-token-index="0">continue</span><span data-token-index="0">
        </span><span class="token keyword" data-token-index="0">elif</span><span data-token-index="0"> self</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">ask</span><span class="token punctuation" data-token-index="0">(</span><span class="token operator" data-token-index="0">*</span><span data-token-index="0">bind</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">pattern</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
            </span><span class="token comment" data-token-index="0"># The bound pattern exist, so the bindings are valid</span><span data-token-index="0">
            binding </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">delete</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'alive?'</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
            binding </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> binding</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">delete</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'changeid'</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
            </span><span class="token keyword" data-token-index="0">yield</span><span data-token-index="0"> binding
        </span><span class="token keyword" data-token-index="0">else</span><span class="token punctuation" data-token-index="0">:</span><span data-token-index="0">
            </span><span class="token keyword" data-token-index="0">continue</span><span>
</span>
</div></div>
<div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div>
<div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;">Python<svg viewbox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg>
</div></div>
<div style="background: white; padding-right: 105px;"></div>
</div></div></div>
<div data-block-id="fd4ddf3e-f408-466d-a23b-53f4ad39e60f" class="notion-selectable notion-bookmark-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div><div style="display: flex;"><a target="_blank" rel="noopener noreferrer" href="https://github.com/amirouche/copernic/blob/131589d2294710da7e737115b0b4dcf38483044c/copernic/vnstore.py#L129-L159" style="display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;"><div class="" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;"><div style="flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;">
<div style="font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;">amirouche/copernic</div>
<div style="font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;">Versioned structured data, with change-request mechanic, at scale. - amirouche/copernic</div>
<div style="display: flex; margin-top: 6px;">
<img src="/favicon.ico" style="width: 16px; height: 16px; min-width: 16px; margin-right: 6px;"><div style="font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">https://github.com/amirouche/copernic/blob/131589d2294710da7e737115b0b4dcf38483044c/copernic/vnstore.py#L129-L159</div>
</div>
</div></div></a></div></div></div>
<div data-block-id="d88bdbe5-c9c6-4a1a-b349-59a74c80f29c" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">What the code says is something along the line:</div></div></div></div>
<div data-block-id="54125f8f-4e7a-405c-8d78-710bb84bedf8" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>1.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">For a given <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">pattern</span> </div></div></div>
</div></div>
<div data-block-id="155c7c42-ba55-4f09-91fa-bae58317aae6" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>2.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">From the versioned tuples, fetch all bindings that match the pattern and include the <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">alive?</span> and <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">changeid</span> (the latter being useless in that particular method, but since it is unknown, it can not be provided by upstream).</div></div></div>
</div></div>
<div data-block-id="92bfa839-55c3-4429-8864-9c0ad3a1b864" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>3.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">If the binding is dead aka. <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">not bindings['alive?']</span>, then the binding is not valid in all cases according to the latest version (so, instead of a variable <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">alive?</span>, we could query with <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="5" spellcheck="false">True</span>... see below)</div></div></div>
</div></div>
<div data-block-id="8025845b-c6d4-41d1-98e2-67f9a318ae46" class="notion-selectable notion-numbered_list-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;">
<div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px);"><span>4.</span></div>
<div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder="List" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Otherwise, if the binding is alive, we check that it is alive at the latest version. Here lies a bug: if in history there is several times the same items, that are alive but introduced in different change, it will yield multiple bindings that are the same. Instead of <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">self.ask(*bind(pattern, binding)</span> it should be <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">self.latest(bind(pattern, binding), alive=True, changeid=binding["changeid"])</span> since we are only interested in latest version bindings.</div></div></div>
</div></div>
<div data-block-id="d4816f0d-611a-4e1b-aaba-6fdbfe20518b" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Anyway, my point was that <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="1" spellcheck="false">alive?</span> is always a variable (except if we change that in the third bullet). Also, as part of time traveling queries, it seems to me rare to query on <span style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em' data-token-index="3" spellcheck="false">alive?</span> having a particular value except when asking for:</div></div></div></div>
<div data-block-id="61be2f72-2f82-4d74-8b78-1cb8e674453f" class="notion-selectable notion-quote-block" style="width: 100%; max-width: 1728px; margin-top: 4px; margin-bottom: 4px;"><div style="font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;"><div contenteditable="false" spellcheck="true" placeholder="Empty quote" data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;">How many times a particular tuple was removed</div></div></div>
<div data-block-id="3f0f8cde-4eb7-475a-b66f-90343f3c2d35" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">In the case of wikidata, where changes are curated, it seems extremely unlikely that the same tuple items will be added and removed all the time. Here, there is a choice to be made between CPU time and disk requirement.</div></div></div></div>
<div data-block-id="de92de81-e944-4922-b13e-ec04b566c5ba" class="notion-selectable notion-text-block" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 0px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" spellcheck="true" placeholder=" " data-root="true" class="" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Indeed, I might trade half the space requirements with some CPU time in some rare cases. Hence the advent of <a href="https://github.com/scheme-live/live/tree/okvslite-and-co/live/okvslite/nstore2#readme" style="cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit" class="notion-link-token notion-enable-hover" target="_blank" rel="noopener noreferrer" data-token-index="1"><span style="border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7">nstore2</span></a>.</div></div></div></div>
</div>
<div class="notion-presence-container" style="position: absolute; top: 0px; left: 0px; pointer-events: none; z-index: 1;"><div></div></div>
</div>
<div style="position: absolute; top: 0px; left: 0px;"><div></div></div>
</div></div>
<div class="notion-overlay-container notion-default-overlay-container" style="position: fixed; top: 0px; left: 0px; right: 0px; bottom: 0px; z-index: 999; pointer-events: none; overflow: hidden;"><div style="position: relative; z-index: 0;"></div></div>
</div></div>
<textarea style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><textarea style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><div style="width: env(safe-area-inset-bottom);"></div>
</body>
</html>
